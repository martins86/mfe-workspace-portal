"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[337],{2885:(cs,Ue,L)=>{L.d(Ue,{Ux:()=>dt});var _=L(5487),re=(L(4986),L(4762),L(4048),L(5593),L(9075));function dt(P,D){var N;D.platformFactory||(D.platformFactory=()=>(0,re.q6)()),(null===(N=D.compilerOptions)||void 0===N?void 0:N.ngZone)||(D.compilerOptions=D.compilerOptions||{},D.compilerOptions.ngZone=window.ngZone),D.version||(D.version=()=>_.VERSION.full);const K=D.version(),j=function(){const P=window;return P.platform=P.platform||{},P}();let oe=j.platform[K];return oe||(oe=D.platformFactory(),j.platform[K]=oe,D.production&&(0,_.enableProdMode)()),oe.bootstrapModule(P,D.compilerOptions)}},4735:(cs,Ue,L)=>{L.d(Ue,{PW:()=>ei});var _=L(5487),ze=L(9075);class m{}const Q="*";function re(n,e=null){return{type:2,steps:n,options:e}}function Pe(n){return{type:6,styles:n,offset:null}}function ft(n){Promise.resolve(null).then(n)}class x{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ft(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}}class P{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,s=0,i=0;const r=this.players.length;0==r?ft(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==r&&this._onFinish()}),a.onDestroy(()=>{++s==r&&this._onDestroy()}),a.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(s=>{const i=s.totalTime?Math.min(1,t/s.totalTime):1;s.setPosition(i)})}getPosition(){const e=this.players.reduce((t,s)=>null===t||s.totalTime>t.totalTime?s:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}}function N(){return"undefined"!=typeof window&&void 0!==window.document}function K(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function j(n){switch(n.length){case 0:return new x;case 1:return n[0];default:return new P(n)}}function oe(n,e,t,s,i={},r={}){const a=[],l=[];let d=-1,f=null;if(s.forEach(y=>{const E=y.offset,w=E==d,C=w&&f||{};Object.keys(y).forEach(v=>{let b=v,O=y[v];if("offset"!==v)switch(b=e.normalizePropertyName(b,a),O){case"!":O=i[v];break;case Q:O=r[v];break;default:O=e.normalizeStyleValue(v,b,O,a)}C[b]=O}),w||l.push(C),f=C,d=E}),a.length){const y="\n - ";throw new Error(`Unable to animate due to the following errors:${y}${a.join(y)}`)}return l}function $e(n,e,t,s){switch(e){case"start":n.onStart(()=>s(t&&He(t,"start",n)));break;case"done":n.onDone(()=>s(t&&He(t,"done",n)));break;case"destroy":n.onDestroy(()=>s(t&&He(t,"destroy",n)))}}function He(n,e,t){const s=t.totalTime,r=mt(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==s?n.totalTime:s,!!t.disabled),a=n._data;return null!=a&&(r._data=a),r}function mt(n,e,t,s,i="",r=0,a){return{element:n,triggerName:e,fromState:t,toState:s,phaseName:i,totalTime:r,disabled:!!a}}function $(n,e,t){let s;return n instanceof Map?(s=n.get(e),s||n.set(e,s=t)):(s=n[e],s||(s=n[e]=t)),s}function fe(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let me=(n,e)=>!1,Ce=(n,e)=>!1,Ve=(n,e,t)=>[];const Ne=K();(Ne||"undefined"!=typeof Element)&&(me=N()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),Ce=(()=>{if(Ne||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,s)=>e.apply(t,[s]):Ce}})(),Ve=(n,e,t)=>{let s=[];if(t){const i=n.querySelectorAll(e);for(let r=0;r<i.length;r++)s.push(i[r])}else{const i=n.querySelector(e);i&&s.push(i)}return s});let ee=null,gt=!1;function We(n){ee||(ee=("undefined"!=typeof document?document.body:null)||{},gt=!!ee.style&&"WebkitAppearance"in ee.style);let e=!0;return ee.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ee.style,!e&&gt&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ee.style)),e}const qe=Ce,pe=me,Re=Ve;function $t(n){const e={};return Object.keys(n).forEach(t=>{const s=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[s]=n[t]}),e}let ve=(()=>{class n{validateStyleProperty(t){return We(t)}matchesElement(t,s){return qe(t,s)}containsElement(t,s){return pe(t,s)}query(t,s,i){return Re(t,s,i)}computeStyle(t,s,i){return i||""}animate(t,s,i,r,a,l=[],d){return new x(i,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{}return n.NOOP=new ve,n})();const Qe="ng-enter",Ie="ng-leave",ye="ng-trigger",we=".ng-trigger",Tt="ng-animating",Ge=".ng-animating";function ae(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vt(parseFloat(e[1]),e[2])}function vt(n,e){switch(e){case"s":return 1e3*n;default:return n}}function Fe(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,r=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=vt(parseFloat(l[1]),l[2]);const d=l[3];null!=d&&(r=vt(parseFloat(d),l[4]));const f=l[5];f&&(a=f)}else i=n;if(!t){let l=!1,d=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(d,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:r,easing:a}}(n,e,t)}function le(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function te(n,e,t={}){if(e)for(let s in n)t[s]=n[s];else le(n,t);return t}function xe(n,e,t){return t?e+":"+t+";":""}function Ht(n){let e="";for(let t=0;t<n.style.length;t++){const s=n.style.item(t);e+=xe(0,s,n.style.getPropertyValue(s))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xe(0,Wt(t),n.style[t]));n.setAttribute("style",e)}function Y(n,e,t){n.style&&(Object.keys(e).forEach(s=>{const i=Ye(s);t&&!t.hasOwnProperty(s)&&(t[s]=n.style[i]),n.style[i]=e[s]}),K()&&Ht(n))}function _e(n,e){n.style&&(Object.keys(e).forEach(t=>{const s=Ye(t);n.style[s]=""}),K()&&Ht(n))}function ke(n){return Array.isArray(n)?1==n.length?n[0]:re(n):n}const Ze=new RegExp("{{\\s*(.+?)\\s*}}","g");function wt(n){let e=[];if("string"==typeof n){let t;for(;t=Ze.exec(n);)e.push(t[1]);Ze.lastIndex=0}return e}function ge(n,e,t){const s=n.toString(),i=s.replace(Ze,(r,a)=>{let l=e[a];return e.hasOwnProperty(a)||(t.push(`Please provide a value for the animation param ${a}`),l=""),l.toString()});return i==s?n:i}function Le(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Xe=/-+([a-z0-9])/g;function Ye(n){return n.replace(Xe,(...e)=>e[1].toUpperCase())}function Wt(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function bt(n,e){return 0===n||0===e}function Mt(n,e,t){const s=Object.keys(t);if(s.length&&e.length){let r=e[0],a=[];if(s.forEach(l=>{r.hasOwnProperty(l)||a.push(l),r[l]=t[l]}),a.length)for(var i=1;i<e.length;i++){let l=e[i];a.forEach(function(d){l[d]=Pt(n,d)})}}return e}function H(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Pt(n,e){return window.getComputedStyle(n)[e]}function qt(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(s=>function(n,e,t){if(":"==n[0]){const d=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,s)=>parseFloat(s)>parseFloat(t);case":decrement":return(t,s)=>parseFloat(s)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof d)return void e.push(d);n=d}const s=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=s[1],r=s[2],a=s[3];e.push(Dt(i,a));"<"==r[0]&&!("*"==i&&"*"==a)&&e.push(Dt(a,i))}(s,t,e)):t.push(n),t}const Be=new Set(["true","1"]),et=new Set(["false","0"]);function Dt(n,e){const t=Be.has(n)||et.has(n),s=Be.has(e)||et.has(e);return(i,r)=>{let a="*"==n||n==i,l="*"==e||e==r;return!a&&t&&"boolean"==typeof i&&(a=i?Be.has(n):et.has(n)),!l&&s&&"boolean"==typeof r&&(l=r?Be.has(e):et.has(e)),a&&l}}const ps=new RegExp("s*:selfs*,?","g");function tt(n,e,t){return new Zt(n).build(e,t)}class Zt{constructor(e){this._driver=e}build(e,t){const s=new Ct(t);return this._resetContextStyleTimingState(s),H(this,ke(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let s=t.queryCount=0,i=t.depCount=0;const r=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const d=l,f=d.name;f.toString().split(/\s*,\s*/).forEach(y=>{d.name=y,r.push(this.visitState(d,t))}),d.name=f}else if(1==l.type){const d=this.visitTransition(l,t);s+=d.queryCount,i+=d.depCount,a.push(d)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:a,queryCount:s,depCount:i,options:null}}visitState(e,t){const s=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(s.containsDynamicStyles){const r=new Set,a=i||{};if(s.styles.forEach(l=>{if(nt(l)){const d=l;Object.keys(d).forEach(f=>{wt(d[f]).forEach(y=>{a.hasOwnProperty(y)||r.add(y)})})}}),r.size){const l=Le(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${l.join(", ")}`)}}return{type:0,name:e.name,style:s,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const s=H(this,ke(e.animation),t);return{type:1,matchers:qt(e.expr,t.errors),animation:s,queryCount:t.queryCount,depCount:t.depCount,options:ce(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(s=>H(this,s,t)),options:ce(e.options)}}visitGroup(e,t){const s=t.currentTime;let i=0;const r=e.steps.map(a=>{t.currentTime=s;const l=H(this,a,t);return i=Math.max(i,t.currentTime),l});return t.currentTime=i,{type:3,steps:r,options:ce(e.options)}}visitAnimate(e,t){const s=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Ot(Fe(n,e).duration,0,"");const s=n;if(s.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=Ot(0,0,"");return r.dynamic=!0,r.strValue=s,r}return t=t||Fe(s,e),Ot(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=s;let i,r=e.styles?e.styles:Pe({});if(5==r.type)i=this.visitKeyframes(r,t);else{let a=e.styles,l=!1;if(!a){l=!0;const f={};s.easing&&(f.easing=s.easing),a=Pe(f)}t.currentTime+=s.duration+s.delay;const d=this.visitStyle(a,t);d.isEmptyStep=l,i=d}return t.currentAnimateTimings=null,{type:4,timings:s,style:i,options:null}}visitStyle(e,t){const s=this._makeStyleAst(e,t);return this._validateStyleAst(s,t),s}_makeStyleAst(e,t){const s=[];Array.isArray(e.styles)?e.styles.forEach(a=>{"string"==typeof a?a==Q?s.push(a):t.errors.push(`The provided style string value ${a} is not allowed.`):s.push(a)}):s.push(e.styles);let i=!1,r=null;return s.forEach(a=>{if(nt(a)){const l=a,d=l.easing;if(d&&(r=d,delete l.easing),!i)for(let f in l)if(l[f].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:s,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const s=t.currentAnimateTimings;let i=t.currentTime,r=t.currentTime;s&&r>0&&(r-=s.duration+s.delay),e.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return void t.errors.push(`The provided animation property "${l}" is not a supported CSS property for animations`);const d=t.collectedStyles[t.currentQuerySelector],f=d[l];let y=!0;f&&(r!=i&&r>=f.startTime&&i<=f.endTime&&(t.errors.push(`The CSS property "${l}" that exists between the times of "${f.startTime}ms" and "${f.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),y=!1),r=f.startTime),y&&(d[l]={startTime:r,endTime:i}),t.options&&function(n,e,t){const s=e.params||{},i=wt(n);i.length&&i.forEach(r=>{s.hasOwnProperty(r)||t.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(a[l],t.options,t.errors)})})}visitKeyframes(e,t){const s={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),s;let r=0;const a=[];let l=!1,d=!1,f=0;const y=e.steps.map(F=>{const B=this._makeStyleAst(F,t);let V=null!=B.offset?B.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(nt(t)&&t.hasOwnProperty("offset")){const s=t;e=parseFloat(s.offset),delete s.offset}});else if(nt(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(B.styles),z=0;return null!=V&&(r++,z=B.offset=V),d=d||z<0||z>1,l=l||z<f,f=z,a.push(z),B});d&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&t.errors.push("Please ensure that all keyframe offsets are in order");const E=e.steps.length;let w=0;r>0&&r<E?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(w=1/(E-1));const C=E-1,v=t.currentTime,b=t.currentAnimateTimings,O=b.duration;return y.forEach((F,B)=>{const V=w>0?B==C?1:w*B:a[B],z=V*O;t.currentTime=v+b.delay+z,b.duration=z,this._validateStyleAst(F,t),F.offset=V,s.styles.push(F)}),s}visitReference(e,t){return{type:8,animation:H(this,ke(e.animation),t),options:ce(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ce(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ce(e.options)}}visitQuery(e,t){const s=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[r,a]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ps,"")),[n=n.replace(/@\*/g,we).replace(/@\w+/g,t=>we+"-"+t.substr(1)).replace(/:animating/g,Ge),e]}(e.selector);t.currentQuerySelector=s.length?s+" "+r:r,$(t.collectedStyles,t.currentQuerySelector,{});const l=H(this,ke(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=s,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:ce(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const s="full"===e.timings?{duration:0,delay:0,easing:"full"}:Fe(e.timings,t.errors,!0);return{type:12,animation:H(this,ke(e.animation),t),timings:s,options:null}}}class Ct{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function nt(n){return!Array.isArray(n)&&"object"==typeof n}function ce(n){return n?(n=le(n)).params&&(n.params=function(n){return n?le(n):null}(n.params)):n={},n}function Ot(n,e,t){return{duration:n,delay:e,easing:t}}function it(n,e,t,s,i,r,a=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:s,duration:i,delay:r,totalTime:i+r,easing:a,subTimeline:l}}class rt{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let s=this._map.get(e);s||this._map.set(e,s=[]),s.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Yt=new RegExp(":enter","g"),u=new RegExp(":leave","g");function c(n,e,t,s,i,r={},a={},l,d,f=[]){return(new o).buildKeyframes(n,e,t,s,i,r,a,l,d,f)}class o{buildKeyframes(e,t,s,i,r,a,l,d,f,y=[]){f=f||new rt;const E=new p(e,t,f,i,r,y,[]);E.options=d,E.currentTimeline.setStyles([a],null,E.errors,d),H(this,s,E);const w=E.timelines.filter(C=>C.containsAnimation());if(w.length&&Object.keys(l).length){const C=w[w.length-1];C.allowOnlyTimelineStyles()||C.setStyles([l],null,E.errors,d)}return w.length?w.map(C=>C.buildKeyframes()):[it(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const s=t.subInstructions.consume(t.element);if(s){const i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,a=this._visitSubInstructions(s,i,i.options);r!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const s=t.createSubContext(e.options);s.transformIntoNewTimeline(),this.visitReference(e.animation,s),t.transformIntoNewTimeline(s.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,s){let r=t.currentTimeline.currentTime;const a=null!=s.duration?ae(s.duration):null,l=null!=s.delay?ae(s.delay):null;return 0!==a&&e.forEach(d=>{const f=t.appendInstructionToTimeline(d,a,l);r=Math.max(r,f.duration+f.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),H(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const s=t.subContextCount;let i=t;const r=e.options;if(r&&(r.params||r.delay)&&(i=t.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=h);const a=ae(r.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>H(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>s&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const s=[];let i=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?ae(e.options.delay):0;e.steps.forEach(a=>{const l=t.createSubContext(e.options);r&&l.delayNextStep(r),H(this,a,l),i=Math.max(i,l.currentTimeline.currentTime),s.push(l.currentTimeline)}),s.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const s=e.strValue;return Fe(t.params?ge(s,t.params,t.errors):s,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const s=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;s.delay&&(t.incrementTime(s.delay),i.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(s.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const s=t.currentTimeline,i=t.currentAnimateTimings;!i&&s.getCurrentStyleProperties().length&&s.forwardFrame();const r=i&&i.easing||e.easing;e.isEmptyStep?s.applyEmptyStep(r):s.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const s=t.currentAnimateTimings,i=t.currentTimeline.duration,r=s.duration,l=t.createSubContext().currentTimeline;l.easing=s.easing,e.styles.forEach(d=>{l.forwardTime((d.offset||0)*r),l.setStyles(d.styles,d.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+r),t.previousNode=e}visitQuery(e,t){const s=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?ae(i.delay):0;r&&(6===t.previousNode.type||0==s&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=h);let a=s;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=l.length;let d=null;l.forEach((f,y)=>{t.currentQueryIndex=y;const E=t.createSubContext(e.options,f);r&&E.delayNextStep(r),f===t.element&&(d=E.currentTimeline),H(this,e.animation,E),E.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,E.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const s=t.parentContext,i=t.currentTimeline,r=e.timings,a=Math.abs(r.duration),l=a*(t.currentQueryTotal-1);let d=a*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":d=l-d;break;case"full":d=s.currentStaggerTime}const y=t.currentTimeline;d&&y.delayNextStep(d);const E=y.currentTime;H(this,e.animation,t),t.previousNode=e,s.currentStaggerTime=i.currentTime-E+(i.startTime-s.currentTimeline.startTime)}}const h={};class p{constructor(e,t,s,i,r,a,l,d){this._driver=e,this.element=t,this.subInstructions=s,this._enterClassName=i,this._leaveClassName=r,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=h,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new S(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const s=e;let i=this.options;null!=s.duration&&(i.duration=ae(s.duration)),null!=s.delay&&(i.delay=ae(s.delay));const r=s.params;if(r){let a=i.params;a||(a=this.options.params={}),Object.keys(r).forEach(l=>{(!t||!a.hasOwnProperty(l))&&(a[l]=ge(r[l],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const s=e.params={};Object.keys(t).forEach(i=>{s[i]=t[i]})}}return e}createSubContext(e=null,t,s){const i=t||this.element,r=new p(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,s||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=h,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,s){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+e.delay,easing:""},r=new M(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,s,i,r,a){let l=[];if(i&&l.push(this.element),e.length>0){e=(e=e.replace(Yt,"."+this._enterClassName)).replace(u,"."+this._leaveClassName);let f=this._driver.query(this.element,e,1!=s);0!==s&&(f=s<0?f.slice(f.length+s,f.length):f.slice(0,s)),l.push(...f)}return!r&&0==l.length&&a.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),l}}class S{constructor(e,t,s,i){this._driver=e,this.element=t,this.startTime=s,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new S(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Q,this._currentKeyframe[t]=Q}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,s,i){t&&(this._previousKeyframe.easing=t);const r=i&&i.params||{},a=function(n,e){const t={};let s;return n.forEach(i=>{"*"===i?(s=s||Object.keys(e),s.forEach(r=>{t[r]=Q})):te(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const d=ge(a[l],r,s);this._pendingStyles[l]=d,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:Q),this._updateStyle(l,d)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(s=>{this._currentKeyframe[s]=e[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const s=this._styleSummary[t],i=e._styleSummary[t];(!s||i.time>s.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,s=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,d)=>{const f=te(l,!0);Object.keys(f).forEach(y=>{const E=f[y];"!"==E?e.add(y):E==Q&&t.add(y)}),s||(f.offset=d/this.duration),i.push(f)});const r=e.size?Le(e.values()):[],a=t.size?Le(t.values()):[];if(s){const l=i[0],d=le(l);l.offset=0,d.offset=1,i=[l,d]}return it(this.element,i,r,a,this.duration,this.startTime,this.easing,!1)}}class M extends S{constructor(e,t,s,i,r,a,l=!1){super(e,t,a.delay),this.keyframes=s,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:s,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],a=s+t,l=t/a,d=te(e[0],!1);d.offset=0,r.push(d);const f=te(e[0],!1);f.offset=I(l),r.push(f);const y=e.length-1;for(let E=1;E<=y;E++){let w=te(e[E],!1);w.offset=I((t+w.offset*s)/a),r.push(w)}s=a,t=0,i="",e=r}return it(this.element,e,this.preStyleProps,this.postStyleProps,s,t,i,!0)}}function I(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class es{}class sn extends es{normalizePropertyName(e,t){return Ye(e)}normalizeStyleValue(e,t,s,i){let r="";const a=s.toString().trim();if(nn[t]&&0!==s&&"0"!==s)if("number"==typeof s)r="px";else{const l=s.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(`Please provide a CSS unit value for ${e}:${s}`)}return a+r}}const nn=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ts(n,e,t,s,i,r,a,l,d,f,y,E,w){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:r,toState:s,toStyles:a,timelines:l,queriedElements:d,preStyleProps:f,postStyleProps:y,totalTime:E,errors:w}}const ts={};class vs{constructor(e,t,s){this._triggerName=e,this.ast=t,this._stateStyles=s}match(e,t,s,i){return function(n,e,t,s,i){return n.some(r=>r(e,t,s,i))}(this.ast.matchers,e,t,s,i)}buildStyles(e,t,s){const i=this._stateStyles["*"],r=this._stateStyles[e],a=i?i.buildStyles(t,s):{};return r?r.buildStyles(t,s):a}build(e,t,s,i,r,a,l,d,f,y){const E=[],w=this.ast.options&&this.ast.options.params||ts,v=this.buildStyles(s,l&&l.params||ts,E),b=d&&d.params||ts,O=this.buildStyles(i,b,E),F=new Set,B=new Map,V=new Map,z="void"===i,Ke={params:Object.assign(Object.assign({},w),b)},se=y?[]:c(e,t,this.ast.animation,r,a,v,O,Ke,f,E);let W=0;if(se.forEach(he=>{W=Math.max(he.duration+he.delay,W)}),E.length)return Ts(t,this._triggerName,s,i,z,v,O,[],[],B,V,W,E);se.forEach(he=>{const de=he.element,Js=$(B,de,{});he.preStyleProps.forEach(be=>Js[be]=!0);const at=$(V,de,{});he.postStyleProps.forEach(be=>at[be]=!0),de!==t&&F.add(de)});const ue=Le(F.values());return Ts(t,this._triggerName,s,i,z,v,O,se,ue,B,V,W)}}class an{constructor(e,t,s){this.styles=e,this.defaultParams=t,this.normalizer=s}buildStyles(e,t){const s={},i=le(this.defaultParams);return Object.keys(e).forEach(r=>{const a=e[r];null!=a&&(i[r]=a)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const a=r;Object.keys(a).forEach(l=>{let d=a[l];d.length>1&&(d=ge(d,i,t));const f=this.normalizer.normalizePropertyName(l,t);d=this.normalizer.normalizeStyleValue(l,f,d,t),s[f]=d})}}),s}}class cn{constructor(e,t,s){this.name=e,this.ast=t,this._normalizer=s,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new an(i.style,i.options&&i.options.params||{},s)}),As(this.states,"true","1"),As(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new vs(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new vs(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,s,i){return this.transitionFactories.find(a=>a.match(e,t,s,i))||null}matchStyles(e,t,s){return this.fallbackTransition.buildStyles(e,t,s)}}function As(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const hn=new rt;class dn{constructor(e,t,s){this.bodyNode=e,this._driver=t,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(e,t){const s=[],i=tt(this._driver,t,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,s){const i=e.element,r=oe(0,this._normalizer,0,e.keyframes,t,s);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,s={}){const i=[],r=this._animations[e];let a;const l=new Map;if(r?(a=c(this._driver,t,r,Qe,Ie,{},{},s,hn,i),a.forEach(y=>{const E=$(l,y.element,{});y.postStyleProps.forEach(w=>E[w]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),a=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);l.forEach((y,E)=>{Object.keys(y).forEach(w=>{y[w]=this._driver.computeStyle(E,w,Q)})});const f=j(a.map(y=>{const E=l.get(y.element);return this._buildPlayer(y,{},E)}));return this._playersById[e]=f,f.onDestroy(()=>this.destroy(e)),this.players.push(f),f}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const s=this.players.indexOf(t);s>=0&&this.players.splice(s,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,s,i){const r=mt(t,"","","");return $e(this._getPlayer(e),s,r,i),()=>{}}command(e,t,s,i){if("register"==s)return void this.register(e,i[0]);if("create"==s)return void this.create(e,t,i[0]||{});const r=this._getPlayer(e);switch(s){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const ws="ng-animate-queued",bs="ng-animate-disabled",Ms=".ng-animate-disabled",yn=[],Ps={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_n={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Z="__ng_removed";class ss{constructor(e,t=""){this.namespaceId=t;const s=e&&e.hasOwnProperty("value");if(this.value=null!=(n=s?e.value:e)?n:null,s){const r=le(e);delete r.value,this.options=r}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const s=this.options.params;Object.keys(t).forEach(i=>{null==s[i]&&(s[i]=t[i])})}}}const ot="void",ns=new ss(ot);class gn{constructor(e,t,s){this.id=e,this.hostElement=t,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,X(t,this._hostClassName)}listen(e,t,s,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${t}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=s)&&"done"!=n)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${t}" is not supported!`);var n;const r=$(this._elementListeners,e,[]),a={name:t,phase:s,callback:i};r.push(a);const l=$(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(X(e,ye),X(e,ye+"-"+t),l[t]=ns),()=>{this._engine.afterFlush(()=>{const d=r.indexOf(a);d>=0&&r.splice(d,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,s,i=!0){const r=this._getTrigger(t),a=new is(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(X(e,ye),X(e,ye+"-"+t),this._engine.statesByElement.set(e,l={}));let d=l[t];const f=new ss(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),l[t]=f,d||(d=ns),f.value!==ot&&d.value===f.value){if(!function(n,e){const t=Object.keys(n),s=Object.keys(e);if(t.length!=s.length)return!1;for(let i=0;i<t.length;i++){const r=t[i];if(!e.hasOwnProperty(r)||n[r]!==e[r])return!1}return!0}(d.params,f.params)){const b=[],O=r.matchStyles(d.value,d.params,b),F=r.matchStyles(f.value,f.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{_e(e,O),Y(e,F)})}return}const w=$(this._engine.playersByElement,e,[]);w.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let C=r.matchTransition(d.value,f.value,e,f.params),v=!1;if(!C){if(!i)return;C=r.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:d,toState:f,player:a,isFallbackTransition:v}),v||(X(e,ws),a.onStart(()=>{je(e,ws)})),a.onDone(()=>{let b=this.players.indexOf(a);b>=0&&this.players.splice(b,1);const O=this._engine.playersByElement.get(e);if(O){let F=O.indexOf(a);F>=0&&O.splice(F,1)}}),this.players.push(a),w.push(a),a}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,s)=>{delete t[e]}),this._elementListeners.forEach((t,s)=>{this._elementListeners.set(s,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(s=>s.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const s=this._engine.driver.query(e,we,!0);s.forEach(i=>{if(i[Z])return;const r=this._engine.fetchNamespacesByElement(i);r.size?r.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,s,i){const r=this._engine.statesByElement.get(e);if(r){const a=[];if(Object.keys(r).forEach(l=>{if(this._triggers[l]){const d=this.trigger(e,l,ot,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),s&&j(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),s=this._engine.statesByElement.get(e);if(t&&s){const i=new Set;t.forEach(r=>{const a=r.name;if(i.has(a))return;i.add(a);const d=this._triggers[a].fallbackTransition,f=s[a]||ns,y=new ss(ot),E=new is(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:f,toState:y,player:E,isFallbackTransition:!0})})}}removeNode(e,t){const s=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(s.totalAnimations){const r=s.players.length?s.playersByQueriedElement.get(e):[];if(r&&r.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(s.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)s.markElementAsRemoved(this.id,e,!1,t);else{const r=e[Z];(!r||r===Ps)&&(s.afterFlush(()=>this.clearElementCache(e)),s.destroyInnerAnimations(e),s._onRemovalComplete(e,t))}}insertNode(e,t){X(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(s=>{const i=s.player;if(i.destroyed)return;const r=s.element,a=this._elementListeners.get(r);a&&a.forEach(l=>{if(l.name==s.triggerName){const d=mt(r,s.triggerName,s.fromState.value,s.toState.value);d._data=e,$e(s.player,l.phase,d,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(s)}),this._queue=[],t.sort((s,i)=>{const r=s.transition.ast.depCount,a=i.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(s.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(s=>s.element===e)||t,t}}class En{constructor(e,t,s){this.bodyNode=e,this.driver=t,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,r)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(s=>{s.queued&&e.push(s)})}),e}createNamespace(e,t){const s=new gn(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(s,t):(this.newHostElements.set(t,s),this.collectEnterElement(t)),this._namespaceLookup[e]=s}_balanceNamespaceList(e,t){const s=this._namespaceList.length-1;if(s>=0){let i=!1;for(let r=s;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let s=this._namespaceLookup[e];return s||(s=this.createNamespace(e,t)),s}registerTrigger(e,t,s){let i=this._namespaceLookup[e];i&&i.register(t,s)&&this.totalAnimations++}destroy(e,t){if(!e)return;const s=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(s);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>s.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,s=this.statesByElement.get(e);if(s){const i=Object.keys(s);for(let r=0;r<i.length;r++){const a=s[i[r]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&t.add(l)}}}return t}trigger(e,t,s,i){if(Nt(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,s,i),!0}return!1}insertNode(e,t,s,i){if(!Nt(t))return;const r=t[Z];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,s)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),X(e,bs)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),je(e,bs))}removeNode(e,t,s,i){if(Nt(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),s){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,s,i){this.collectedLeaveElements.push(t),t[Z]={namespaceId:e,setForRemoval:i,hasAnimation:s,removedBeforeQueried:!1}}listen(e,t,s,i,r){return Nt(t)?this._fetchNamespace(e).listen(t,s,i,r):()=>{}}_buildInstruction(e,t,s,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,s,i,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,we,!0);t.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ge,!0),t.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return j(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Z];if(t&&t.setForRemoval){if(e[Z]=Ps,t.namespaceId){this.destroyInnerAnimations(e);const s=this._fetchNamespace(t.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Ms)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Ms,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,i)=>this._balanceNamespaceList(s,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)X(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{t=this._flushAnimations(s,e)}finally{for(let i=0;i<s.length;i++)s[i]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],t.length?j(t).onDone(()=>{s.forEach(i=>i())}):s.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const s=new rt,i=[],r=new Map,a=[],l=new Map,d=new Map,f=new Map,y=new Set;this.disabledNodes.forEach(g=>{y.add(g);const T=this.driver.query(g,".ng-animate-queued",!0);for(let A=0;A<T.length;A++)y.add(T[A])});const E=this.bodyNode,w=Array.from(this.statesByElement.keys()),C=Os(w,this.collectedEnterElements),v=new Map;let b=0;C.forEach((g,T)=>{const A=Qe+b++;v.set(T,A),g.forEach(R=>X(R,A))});const O=[],F=new Set,B=new Set;for(let g=0;g<this.collectedLeaveElements.length;g++){const T=this.collectedLeaveElements[g],A=T[Z];A&&A.setForRemoval&&(O.push(T),F.add(T),A.hasAnimation?this.driver.query(T,".ng-star-inserted",!0).forEach(R=>F.add(R)):B.add(T))}const V=new Map,z=Os(w,Array.from(F));z.forEach((g,T)=>{const A=Ie+b++;V.set(T,A),g.forEach(R=>X(R,A))}),e.push(()=>{C.forEach((g,T)=>{const A=v.get(T);g.forEach(R=>je(R,A))}),z.forEach((g,T)=>{const A=V.get(T);g.forEach(R=>je(R,A))}),O.forEach(g=>{this.processLeaveNode(g)})});const Ke=[],se=[];for(let g=this._namespaceList.length-1;g>=0;g--)this._namespaceList[g].drainQueuedTransitions(t).forEach(A=>{const R=A.player,U=A.element;if(Ke.push(R),this.collectedEnterElements.length){const ie=U[Z];if(ie&&ie.setForMove)return void R.destroy()}const ne=!E||!this.driver.containsElement(E,U),G=V.get(U),Ee=v.get(U),k=this._buildInstruction(A,s,Ee,G,ne);if(k.errors&&k.errors.length)se.push(k);else{if(ne)return R.onStart(()=>_e(U,k.fromStyles)),R.onDestroy(()=>Y(U,k.toStyles)),void i.push(R);if(A.isFallbackTransition)return R.onStart(()=>_e(U,k.fromStyles)),R.onDestroy(()=>Y(U,k.toStyles)),void i.push(R);k.timelines.forEach(ie=>ie.stretchStartingKeyframe=!0),s.append(U,k.timelines),a.push({instruction:k,player:R,element:U}),k.queriedElements.forEach(ie=>$(l,ie,[]).push(R)),k.preStyleProps.forEach((ie,lt)=>{const Lt=Object.keys(ie);if(Lt.length){let Me=d.get(lt);Me||d.set(lt,Me=new Set),Lt.forEach(ls=>Me.add(ls))}}),k.postStyleProps.forEach((ie,lt)=>{const Lt=Object.keys(ie);let Me=f.get(lt);Me||f.set(lt,Me=new Set),Lt.forEach(ls=>Me.add(ls))})}});if(se.length){const g=[];se.forEach(T=>{g.push(`@${T.triggerName} has failed due to:\n`),T.errors.forEach(A=>g.push(`- ${A}\n`))}),Ke.forEach(T=>T.destroy()),this.reportError(g)}const W=new Map,ue=new Map;a.forEach(g=>{const T=g.element;s.has(T)&&(ue.set(T,T),this._beforeAnimationBuild(g.player.namespaceId,g.instruction,W))}),i.forEach(g=>{const T=g.element;this._getPreviousPlayers(T,!1,g.namespaceId,g.triggerName,null).forEach(R=>{$(W,T,[]).push(R),R.destroy()})});const he=O.filter(g=>Rs(g,d,f)),de=new Map;Cs(de,this.driver,B,f,Q).forEach(g=>{Rs(g,d,f)&&he.push(g)});const at=new Map;C.forEach((g,T)=>{Cs(at,this.driver,new Set(g),d,"!")}),he.forEach(g=>{const T=de.get(g),A=at.get(g);de.set(g,Object.assign(Object.assign({},T),A))});const be=[],en=[],tn={};a.forEach(g=>{const{element:T,player:A,instruction:R}=g;if(s.has(T)){if(y.has(T))return A.onDestroy(()=>Y(T,R.toStyles)),A.disabled=!0,A.overrideTotalTime(R.totalTime),void i.push(A);let U=tn;if(ue.size>1){let G=T;const Ee=[];for(;G=G.parentNode;){const k=ue.get(G);if(k){U=k;break}Ee.push(G)}Ee.forEach(k=>ue.set(k,U))}const ne=this._buildAnimation(A.namespaceId,R,W,r,at,de);if(A.setRealPlayer(ne),U===tn)be.push(A);else{const G=this.playersByElement.get(U);G&&G.length&&(A.parentPlayer=j(G)),i.push(A)}}else _e(T,R.fromStyles),A.onDestroy(()=>Y(T,R.toStyles)),en.push(A),y.has(T)&&i.push(A)}),en.forEach(g=>{const T=r.get(g.element);if(T&&T.length){const A=j(T);g.setRealPlayer(A)}}),i.forEach(g=>{g.parentPlayer?g.syncPlayerEvents(g.parentPlayer):g.destroy()});for(let g=0;g<O.length;g++){const T=O[g],A=T[Z];if(je(T,Ie),A&&A.hasAnimation)continue;let R=[];if(l.size){let ne=l.get(T);ne&&ne.length&&R.push(...ne);let G=this.driver.query(T,Ge,!0);for(let Ee=0;Ee<G.length;Ee++){let k=l.get(G[Ee]);k&&k.length&&R.push(...k)}}const U=R.filter(ne=>!ne.destroyed);U.length?An(this,T,U):this.processLeaveNode(T)}return O.length=0,be.forEach(g=>{this.players.push(g),g.onDone(()=>{g.destroy();const T=this.players.indexOf(g);this.players.splice(T,1)}),g.play()}),be}elementContainsData(e,t){let s=!1;const i=t[Z];return i&&i.setForRemoval&&(s=!0),this.playersByElement.has(t)&&(s=!0),this.playersByQueriedElement.has(t)&&(s=!0),this.statesByElement.has(t)&&(s=!0),this._fetchNamespace(e).elementContainsData(t)||s}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,s,i,r){let a=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(a=l)}else{const l=this.playersByElement.get(e);if(l){const d=!r||r==ot;l.forEach(f=>{f.queued||!d&&f.triggerName!=i||a.push(f)})}}return(s||i)&&(a=a.filter(l=>!(s&&s!=l.namespaceId||i&&i!=l.triggerName))),a}_beforeAnimationBuild(e,t,s){const r=t.element,a=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const d of t.timelines){const f=d.element,y=f!==r,E=$(s,f,[]);this._getPreviousPlayers(f,y,a,l,t.toState).forEach(C=>{const v=C.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),C.destroy(),E.push(C)})}_e(r,t.fromStyles)}_buildAnimation(e,t,s,i,r,a){const l=t.triggerName,d=t.element,f=[],y=new Set,E=new Set,w=t.timelines.map(v=>{const b=v.element;y.add(b);const O=b[Z];if(O&&O.removedBeforeQueried)return new x(v.duration,v.delay);const F=b!==d,B=function(n){const e=[];return Ns(n,e),e}((s.get(b)||yn).map(W=>W.getRealPlayer())).filter(W=>!!W.element&&W.element===b),V=r.get(b),z=a.get(b),Ke=oe(0,this._normalizer,0,v.keyframes,V,z),se=this._buildPlayer(v,Ke,B);if(v.subTimeline&&i&&E.add(b),F){const W=new is(e,l,b);W.setRealPlayer(se),f.push(W)}return se});f.forEach(v=>{$(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function(n,e,t){let s;if(n instanceof Map){if(s=n.get(e),s){if(s.length){const i=s.indexOf(t);s.splice(i,1)}0==s.length&&n.delete(e)}}else if(s=n[e],s){if(s.length){const i=s.indexOf(t);s.splice(i,1)}0==s.length&&delete n[e]}return s}(this.playersByQueriedElement,v.element,v))}),y.forEach(v=>X(v,Tt));const C=j(w);return C.onDestroy(()=>{y.forEach(v=>je(v,Tt)),Y(d,t.toStyles)}),E.forEach(v=>{$(i,v,[]).push(C)}),C}_buildPlayer(e,t,s){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,s):new x(e.duration,e.delay)}}class is{constructor(e,t,s){this.namespaceId=e,this.triggerName=t,this.element=s,this._player=new x,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(s=>$e(e,t,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Nt(n){return n&&1===n.nodeType}function Ds(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Cs(n,e,t,s,i){const r=[];t.forEach(d=>r.push(Ds(d)));const a=[];s.forEach((d,f)=>{const y={};d.forEach(E=>{const w=y[E]=e.computeStyle(f,E,i);(!w||0==w.length)&&(f[Z]=_n,a.push(f))}),n.set(f,y)});let l=0;return t.forEach(d=>Ds(d,r[l++])),a}function Os(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const i=new Set(e),r=new Map;function a(l){if(!l)return 1;let d=r.get(l);if(d)return d;const f=l.parentNode;return d=t.has(f)?f:i.has(f)?1:a(f),r.set(l,d),d}return e.forEach(l=>{const d=a(l);1!==d&&t.get(d).push(l)}),t}const Rt="$$classes";function X(n,e){if(n.classList)n.classList.add(e);else{let t=n[Rt];t||(t=n[Rt]={}),t[e]=!0}}function je(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Rt];t&&delete t[e]}}function An(n,e,t){j(t).onDone(()=>n.processLeaveNode(e))}function Ns(n,e){for(let t=0;t<n.length;t++){const s=n[t];s instanceof P?Ns(s.players,e):e.push(s)}}function Rs(n,e,t){const s=t.get(n);if(!s)return!1;let i=e.get(n);return i?s.forEach(r=>i.add(r)):e.set(n,s),t.delete(n),!0}class It{constructor(e,t,s){this.bodyNode=e,this._driver=t,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(i,r)=>{},this._transitionEngine=new En(e,t,s),this._timelineEngine=new dn(e,t,s),this._transitionEngine.onRemovalComplete=(i,r)=>this.onRemovalComplete(i,r)}registerTrigger(e,t,s,i,r){const a=e+"-"+i;let l=this._triggerCache[a];if(!l){const d=[],f=tt(this._driver,r,d);if(d.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${d.join("\n - ")}`);l=function(n,e,t){return new cn(n,e,t)}(i,f,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(t,i,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,s,i){this._transitionEngine.insertNode(e,t,s,i)}onRemove(e,t,s,i){this._transitionEngine.removeNode(e,t,i||!1,s)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,s,i){if("@"==s.charAt(0)){const[r,a]=fe(s);this._timelineEngine.command(r,t,a,i)}else this._transitionEngine.trigger(e,t,s,i)}listen(e,t,s,i,r){if("@"==s.charAt(0)){const[a,l]=fe(s);return this._timelineEngine.listen(a,t,l,r)}return this._transitionEngine.listen(e,t,s,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Is(n,e){let t=null,s=null;return Array.isArray(e)&&e.length?(t=rs(e[0]),e.length>1&&(s=rs(e[e.length-1]))):e&&(t=rs(e)),t||s?new Mn(n,t,s):null}let Mn=(()=>{class n{constructor(t,s,i){this._element=t,this._startStyles=s,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Y(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Y(this._element,this._initialStyles),this._endStyles&&(Y(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_e(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_e(this._element,this._endStyles),this._endStyles=null),Y(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function rs(n){let e=null;const t=Object.keys(n);for(let s=0;s<t.length;s++){const i=t[s];Pn(i)&&(e=e||{},e[i]=n[i])}return e}function Pn(n){return"display"===n||"position"===n}const Fs="animation",ks="animationend";class On{constructor(e,t,s,i,r,a,l){this._element=e,this._name=t,this._duration=s,this._delay=i,this._easing=r,this._fillMode=a,this._onDoneFn=l,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=d=>this._handleCallback(d)}apply(){(function(n,e){const t=as(n,"").trim();let s=0;t.length&&(function(n,e){let t=0;for(let s=0;s<n.length;s++)","===n.charAt(s)&&t++;return t}(t)+1,e=`${t}, ${e}`),Ft(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),js(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ls(this._element,this._name,"paused")}resume(){Ls(this._element,this._name,"running")}setPosition(e){const t=Bs(this._element,this._name);this._position=e*this._duration,Ft(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),js(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const s=as(n,"").split(","),i=os(s,e);i>=0&&(s.splice(i,1),Ft(n,"",s.join(",")))}(this._element,this._name))}}function Ls(n,e,t){Ft(n,"PlayState",t,Bs(n,e))}function Bs(n,e){const t=as(n,"");return t.indexOf(",")>0?os(t.split(","),e):os([t],e)}function os(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function js(n,e,t){t?n.removeEventListener(ks,e):n.addEventListener(ks,e)}function Ft(n,e,t,s){const i=Fs+e;if(null!=s){const r=n.style[i];if(r.length){const a=r.split(",");a[s]=t,t=a.join(",")}}n.style[i]=t}function as(n,e){return n.style[Fs+e]||""}class Ks{constructor(e,t,s,i,r,a,l,d){this.element=e,this.keyframes=t,this.animationName=s,this._duration=i,this._delay=r,this._finalStyles=l,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new On(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(e[s]=t?this._finalStyles[s]:Pt(this.element,s))})}this.currentSnapshot=e}}class Ln extends x{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=$t(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class zs{constructor(){this._count=0}validateStyleProperty(e){return We(e)}matchesElement(e,t){return qe(e,t)}containsElement(e,t){return pe(e,t)}query(e,t,s){return Re(e,t,s)}computeStyle(e,t,s){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,s){s=s.map(l=>$t(l));let i=`@keyframes ${t} {\n`,r="";s.forEach(l=>{r=" ";const d=parseFloat(l.offset);i+=`${r}${100*d}% {\n`,r+=" ",Object.keys(l).forEach(f=>{const y=l[f];switch(f){case"offset":return;case"easing":return void(y&&(i+=`${r}animation-timing-function: ${y};\n`));default:return void(i+=`${r}${f}: ${y};\n`)}}),i+=`${r}}\n`}),i+="}\n";const a=document.createElement("style");return a.textContent=i,a}animate(e,t,s,i,r,a=[],l){const d=a.filter(O=>O instanceof Ks),f={};bt(s,i)&&d.forEach(O=>{let F=O.currentSnapshot;Object.keys(F).forEach(B=>f[B]=F[B])});const y=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(s=>{Object.keys(s).forEach(i=>{"offset"==i||"easing"==i||(e[i]=s[i])})}),e}(t=Mt(e,t,f));if(0==s)return new Ln(e,y);const E="gen_css_kf_"+this._count++,w=this.buildKeyframeElement(e,E,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(w);const v=Is(e,t),b=new Ks(e,t,E,s,i,r,y,v);return b.onDestroy(()=>{var n;(n=w).parentNode.removeChild(n)}),b}}class Hs{constructor(e,t,s,i){this.element=e,this.keyframes=t,this.options=s,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,s){return e.animate(t,s)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Pt(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}}class zn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Vs().toString()),this._cssKeyframesDriver=new zs}validateStyleProperty(e){return We(e)}matchesElement(e,t){return qe(e,t)}containsElement(e,t){return pe(e,t)}query(e,t,s){return Re(e,t,s)}computeStyle(e,t,s){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,s,i,r,a=[],l){if(!l&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,s,i,r,a);const y={duration:s,delay:i,fill:0==i?"both":"forwards"};r&&(y.easing=r);const E={},w=a.filter(v=>v instanceof Hs);bt(s,i)&&w.forEach(v=>{let b=v.currentSnapshot;Object.keys(b).forEach(O=>E[O]=b[O])});const C=Is(e,t=Mt(e,t=t.map(v=>te(v,!1)),E));return new Hs(e,t,y,C)}}function Vs(){return N()&&Element.prototype.animate||{}}var Ws=L(4986);let Hn=(()=>{class n extends m{constructor(t,s){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(s.body,{id:"0",encapsulation:_.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(t){const s=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?re(t):t;return qs(this._renderer,null,s,"register",[i]),new Vn(s,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(_.\u0275\u0275inject(_.RendererFactory2),_.\u0275\u0275inject(Ws.DOCUMENT))},n.\u0275prov=_.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Vn extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Wn(this._id,e,t||{},this._renderer)}}class Wn{constructor(e,t,s,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return qs(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function qs(n,e,t,s,i){return n.setProperty(e,`@@${t}:${s}`,i)}const Qs="@.disabled";let qn=(()=>{class n{constructor(t,s,i){this.delegate=t,this.engine=s,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(r,a)=>{a&&a.parentNode(r)&&a.removeChild(r.parentNode,r)}}createRenderer(t,s){const r=this.delegate.createRenderer(t,s);if(!(t&&s&&s.data&&s.data.animation)){let y=this._rendererCache.get(r);return y||(y=new Gs("",r,this.engine),this._rendererCache.set(r,y)),y}const a=s.id,l=s.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const d=y=>{Array.isArray(y)?y.forEach(d):this.engine.registerTrigger(a,l,t,y.name,y)};return s.data.animation.forEach(d),new Qn(this,l,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,s,i){t>=0&&t<this._microtaskId?this._zone.run(()=>s(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[a,l]=r;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(_.\u0275\u0275inject(_.RendererFactory2),_.\u0275\u0275inject(It),_.\u0275\u0275inject(_.NgZone))},n.\u0275prov=_.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Gs{constructor(e,t,s){this.namespaceId=e,this.delegate=t,this.engine=s,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,s,i=!0){this.delegate.insertBefore(e,t,s),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,s){this.engine.onRemove(this.namespaceId,t,this.delegate,s)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,s,i){this.delegate.setAttribute(e,t,s,i)}removeAttribute(e,t,s){this.delegate.removeAttribute(e,t,s)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,s,i){this.delegate.setStyle(e,t,s,i)}removeStyle(e,t,s){this.delegate.removeStyle(e,t,s)}setProperty(e,t,s){"@"==t.charAt(0)&&t==Qs?this.disableAnimations(e,!!s):this.delegate.setProperty(e,t,s)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,s){return this.delegate.listen(e,t,s)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Qn extends Gs{constructor(e,t,s,i){super(t,s,i),this.factory=e,this.namespaceId=t}setProperty(e,t,s){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Qs?this.disableAnimations(e,s=void 0===s||!!s):this.engine.process(this.namespaceId,e,t.substr(1),s):this.delegate.setProperty(e,t,s)}listen(e,t,s){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let r=t.substr(1),a="";return"@"!=r.charAt(0)&&([r,a]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,s,l)})}return this.delegate.listen(e,t,s)}}let Zn=(()=>{class n extends It{constructor(t,s,i){super(t.body,s,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(_.\u0275\u0275inject(Ws.DOCUMENT),_.\u0275\u0275inject(Ae),_.\u0275\u0275inject(es))},n.\u0275prov=_.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const xs=new _.InjectionToken("AnimationModuleType"),Zs=[{provide:m,useClass:Hn},{provide:es,useFactory:function(){return new sn}},{provide:It,useClass:Zn},{provide:_.RendererFactory2,useFactory:function(n,e,t){return new qn(n,e,t)},deps:[ze.se,It,_.NgZone]}],Xs=[{provide:Ae,useFactory:function(){return"function"==typeof Vs()?new zn:new zs}},{provide:xs,useValue:"BrowserAnimations"},...Zs],Ys=[{provide:Ae,useClass:ve},{provide:xs,useValue:"NoopAnimations"},...Zs];let ei=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Ys:Xs}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=_.\u0275\u0275defineInjector({providers:Xs,imports:[ze.b2]}),n})()},9075:(cs,Ue,L)=>{L.d(Ue,{b2:()=>Be,q6:()=>Qt,se:()=>ve});var _=L(4986),m=L(5487);class Q extends _.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends Q{static makeCurrent(){(0,_.\u0275setRootDomAdapter)(new Se)}onAndCancel(c,o,h){return c.addEventListener(o,h,!1),()=>{c.removeEventListener(o,h,!1)}}dispatchEvent(c,o){c.dispatchEvent(o)}remove(c){c.parentNode&&c.parentNode.removeChild(c)}createElement(c,o){return(o=o||this.getDefaultDocument()).createElement(c)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(c){return c.nodeType===Node.ELEMENT_NODE}isShadowRoot(c){return c instanceof DocumentFragment}getGlobalEventTarget(c,o){return"window"===o?window:"document"===o?c:"body"===o?c.body:null}getBaseHref(c){const o=(Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null);return null==o?null:function(u){re=re||document.createElement("a"),re.setAttribute("href",u);const c=re.pathname;return"/"===c.charAt(0)?c:`/${c}`}(o)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(c){return(0,_.\u0275parseCookieValue)(document.cookie,c)}}let re,Te=null;const ut=new m.InjectionToken("TRANSITION_ID"),Kt=[{provide:m.APP_INITIALIZER,useFactory:function(u,c,o){return()=>{o.get(m.ApplicationInitStatus).donePromise.then(()=>{const h=(0,_.\u0275getDOM)(),p=c.querySelectorAll(`style[ng-transition="${u}"]`);for(let S=0;S<p.length;S++)h.remove(p[S])})}},deps:[ut,_.DOCUMENT,m.Injector],multi:!0}];class De{static init(){(0,m.setTestabilityGetter)(new De)}addToWindow(c){m.\u0275global.getAngularTestability=(h,p=!0)=>{const S=c.findTestabilityInTree(h,p);if(null==S)throw new Error("Could not find testability for element.");return S},m.\u0275global.getAllAngularTestabilities=()=>c.getAllTestabilities(),m.\u0275global.getAllAngularRootElements=()=>c.getAllRootElements(),m.\u0275global.frameworkStabilizers||(m.\u0275global.frameworkStabilizers=[]),m.\u0275global.frameworkStabilizers.push(h=>{const p=m.\u0275global.getAllAngularTestabilities();let S=p.length,M=!1;const I=function(q){M=M||q,S--,0==S&&h(M)};p.forEach(function(q){q.whenStable(I)})})}findTestabilityInTree(c,o,h){if(null==o)return null;const p=c.getTestability(o);return null!=p?p:h?(0,_.\u0275getDOM)().isShadowRoot(o)?this.findTestabilityInTree(c,o.host,!0):this.findTestabilityInTree(c,o.parentElement,!0):null}}let ht=(()=>{class u{build(){return new XMLHttpRequest}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=m.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})();const fe=new m.InjectionToken("EventManagerPlugins");let me=(()=>{class u{constructor(o,h){this._zone=h,this._eventNameToPlugin=new Map,o.forEach(p=>p.manager=this),this._plugins=o.slice().reverse()}addEventListener(o,h,p){return this._findPluginFor(h).addEventListener(o,h,p)}addGlobalEventListener(o,h,p){return this._findPluginFor(h).addGlobalEventListener(o,h,p)}getZone(){return this._zone}_findPluginFor(o){const h=this._eventNameToPlugin.get(o);if(h)return h;const p=this._plugins;for(let S=0;S<p.length;S++){const M=p[S];if(M.supports(o))return this._eventNameToPlugin.set(o,M),M}throw new Error(`No event manager plugin found for event ${o}`)}}return u.\u0275fac=function(o){return new(o||u)(m.\u0275\u0275inject(fe),m.\u0275\u0275inject(m.NgZone))},u.\u0275prov=m.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})();class pt{constructor(c){this._doc=c}addGlobalEventListener(c,o,h){const p=(0,_.\u0275getDOM)().getGlobalEventTarget(this._doc,c);if(!p)throw new Error(`Unsupported event target ${p} for event ${o}`);return this.addEventListener(p,o,h)}}let Ce=(()=>{class u{constructor(){this._stylesSet=new Set}addStyles(o){const h=new Set;o.forEach(p=>{this._stylesSet.has(p)||(this._stylesSet.add(p),h.add(p))}),this.onStylesAdded(h)}onStylesAdded(o){}getAllStyles(){return Array.from(this._stylesSet)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=m.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})(),Oe=(()=>{class u extends Ce{constructor(o){super(),this._doc=o,this._hostNodes=new Map,this._hostNodes.set(o.head,[])}_addStylesToHost(o,h,p){o.forEach(S=>{const M=this._doc.createElement("style");M.textContent=S,p.push(h.appendChild(M))})}addHost(o){const h=[];this._addStylesToHost(this._stylesSet,o,h),this._hostNodes.set(o,h)}removeHost(o){const h=this._hostNodes.get(o);h&&h.forEach(Ve),this._hostNodes.delete(o)}onStylesAdded(o){this._hostNodes.forEach((h,p)=>{this._addStylesToHost(o,p,h)})}ngOnDestroy(){this._hostNodes.forEach(o=>o.forEach(Ve))}}return u.\u0275fac=function(o){return new(o||u)(m.\u0275\u0275inject(_.DOCUMENT))},u.\u0275prov=m.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})();function Ve(u){(0,_.\u0275getDOM)().remove(u)}const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ne=/%COMP%/g;function pe(u,c,o){for(let h=0;h<c.length;h++){let p=c[h];Array.isArray(p)?pe(u,p,o):(p=p.replace(Ne,u),o.push(p))}return o}function Re(u){return c=>{if("__ngUnwrap__"===c)return u;!1===u(c)&&(c.preventDefault(),c.returnValue=!1)}}let ve=(()=>{class u{constructor(o,h,p){this.eventManager=o,this.sharedStylesHost=h,this.appId=p,this.rendererByCompId=new Map,this.defaultRenderer=new Ae(o)}createRenderer(o,h){if(!o||!h)return this.defaultRenderer;switch(h.encapsulation){case m.ViewEncapsulation.Emulated:{let p=this.rendererByCompId.get(h.id);return p||(p=new Qe(this.eventManager,this.sharedStylesHost,h,this.appId),this.rendererByCompId.set(h.id,p)),p.applyToHost(o),p}case 1:case m.ViewEncapsulation.ShadowDom:return new Ie(this.eventManager,this.sharedStylesHost,o,h);default:if(!this.rendererByCompId.has(h.id)){const p=pe(h.id,h.styles,[]);this.sharedStylesHost.addStyles(p),this.rendererByCompId.set(h.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return u.\u0275fac=function(o){return new(o||u)(m.\u0275\u0275inject(me),m.\u0275\u0275inject(Oe),m.\u0275\u0275inject(m.APP_ID))},u.\u0275prov=m.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})();class Ae{constructor(c){this.eventManager=c,this.data=Object.create(null)}destroy(){}createElement(c,o){return o?document.createElementNS(yt[o]||o,c):document.createElement(c)}createComment(c){return document.createComment(c)}createText(c){return document.createTextNode(c)}appendChild(c,o){c.appendChild(o)}insertBefore(c,o,h){c&&c.insertBefore(o,h)}removeChild(c,o){c&&c.removeChild(o)}selectRootElement(c,o){let h="string"==typeof c?document.querySelector(c):c;if(!h)throw new Error(`The selector "${c}" did not match any elements`);return o||(h.textContent=""),h}parentNode(c){return c.parentNode}nextSibling(c){return c.nextSibling}setAttribute(c,o,h,p){if(p){o=p+":"+o;const S=yt[p];S?c.setAttributeNS(S,o,h):c.setAttribute(o,h)}else c.setAttribute(o,h)}removeAttribute(c,o,h){if(h){const p=yt[h];p?c.removeAttributeNS(p,o):c.removeAttribute(`${h}:${o}`)}else c.removeAttribute(o)}addClass(c,o){c.classList.add(o)}removeClass(c,o){c.classList.remove(o)}setStyle(c,o,h,p){p&(m.RendererStyleFlags2.DashCase|m.RendererStyleFlags2.Important)?c.style.setProperty(o,h,p&m.RendererStyleFlags2.Important?"important":""):c.style[o]=h}removeStyle(c,o,h){h&m.RendererStyleFlags2.DashCase?c.style.removeProperty(o):c.style[o]=""}setProperty(c,o,h){c[o]=h}setValue(c,o){c.nodeValue=o}listen(c,o,h){return"string"==typeof c?this.eventManager.addGlobalEventListener(c,o,Re(h)):this.eventManager.addEventListener(c,o,Re(h))}}class Qe extends Ae{constructor(c,o,h,p){super(c),this.component=h;const S=pe(p+"-"+h.id,h.styles,[]);o.addStyles(S),this.contentAttr="_ngcontent-%COMP%".replace(Ne,p+"-"+h.id),this.hostAttr="_nghost-%COMP%".replace(Ne,p+"-"+h.id)}applyToHost(c){super.setAttribute(c,this.hostAttr,"")}createElement(c,o){const h=super.createElement(c,o);return super.setAttribute(h,this.contentAttr,""),h}}class Ie extends Ae{constructor(c,o,h,p){super(c),this.sharedStylesHost=o,this.hostEl=h,this.shadowRoot=h.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const S=pe(p.id,p.styles,[]);for(let M=0;M<S.length;M++){const I=document.createElement("style");I.textContent=S[M],this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(c){return c===this.hostEl?this.shadowRoot:c}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(c,o){return super.appendChild(this.nodeOrShadowRoot(c),o)}insertBefore(c,o,h){return super.insertBefore(this.nodeOrShadowRoot(c),o,h)}removeChild(c,o){return super.removeChild(this.nodeOrShadowRoot(c),o)}parentNode(c){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(c)))}}let ds=(()=>{class u extends pt{constructor(o){super(o)}supports(o){return!0}addEventListener(o,h,p){return o.addEventListener(h,p,!1),()=>this.removeEventListener(o,h,p)}removeEventListener(o,h,p){return o.removeEventListener(h,p)}}return u.\u0275fac=function(o){return new(o||u)(m.\u0275\u0275inject(_.DOCUMENT))},u.\u0275prov=m.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})();const le=["alt","control","meta","shift"],te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vt={alt:u=>u.altKey,control:u=>u.ctrlKey,meta:u=>u.metaKey,shift:u=>u.shiftKey};let Ze=(()=>{class u extends pt{constructor(o){super(o)}supports(o){return null!=u.parseEventName(o)}addEventListener(o,h,p){const S=u.parseEventName(h),M=u.eventCallback(S.fullKey,p,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.\u0275getDOM)().onAndCancel(o,S.domEventName,M))}static parseEventName(o){const h=o.toLowerCase().split("."),p=h.shift();if(0===h.length||"keydown"!==p&&"keyup"!==p)return null;const S=u._normalizeKey(h.pop());let M="";if(le.forEach(q=>{const Jt=h.indexOf(q);Jt>-1&&(h.splice(Jt,1),M+=q+".")}),M+=S,0!=h.length||0===S.length)return null;const I={};return I.domEventName=p,I.fullKey=M,I}static getEventFullKey(o){let h="",p=function(u){let c=u.key;if(null==c){if(c=u.keyIdentifier,null==c)return"Unidentified";c.startsWith("U+")&&(c=String.fromCharCode(parseInt(c.substring(2),16)),3===u.location&&xe.hasOwnProperty(c)&&(c=xe[c]))}return te[c]||c}(o);return p=p.toLowerCase()," "===p?p="space":"."===p&&(p="dot"),le.forEach(S=>{S!=p&&Vt[S](o)&&(h+=S+".")}),h+=p,h}static eventCallback(o,h,p){return S=>{u.getEventFullKey(S)===o&&p.runGuarded(()=>h(S))}}static _normalizeKey(o){switch(o){case"esc":return"escape";default:return o}}}return u.\u0275fac=function(o){return new(o||u)(m.\u0275\u0275inject(_.DOCUMENT))},u.\u0275prov=m.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})();const Qt=(0,m.createPlatformFactory)(m.platformCore,"browser",[{provide:m.PLATFORM_ID,useValue:_.\u0275PLATFORM_BROWSER_ID},{provide:m.PLATFORM_INITIALIZER,useValue:function(){Se.makeCurrent(),De.init()},multi:!0},{provide:_.DOCUMENT,useFactory:function(){return(0,m.\u0275setDocument)(document),document},deps:[]}]),Gt=[[],{provide:m.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:m.ErrorHandler,useFactory:function(){return new m.ErrorHandler},deps:[]},{provide:fe,useClass:ds,multi:!0,deps:[_.DOCUMENT,m.NgZone,m.PLATFORM_ID]},{provide:fe,useClass:Ze,multi:!0,deps:[_.DOCUMENT]},[],{provide:ve,useClass:ve,deps:[me,Oe,m.APP_ID]},{provide:m.RendererFactory2,useExisting:ve},{provide:Ce,useExisting:Oe},{provide:Oe,useClass:Oe,deps:[_.DOCUMENT]},{provide:m.Testability,useClass:m.Testability,deps:[m.NgZone]},{provide:me,useClass:me,deps:[fe,m.NgZone]},{provide:_.XhrFactory,useClass:ht,deps:[]},[]];let Be=(()=>{class u{constructor(o){if(o)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(o){return{ngModule:u,providers:[{provide:m.APP_ID,useValue:o.appId},{provide:ut,useExisting:m.APP_ID},Kt]}}}return u.\u0275fac=function(o){return new(o||u)(m.\u0275\u0275inject(u,12))},u.\u0275mod=m.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=m.\u0275\u0275defineInjector({providers:Gt,imports:[_.CommonModule,m.ApplicationModule]}),u})();"undefined"!=typeof window&&window}}]);